type: components.lambda_component.LambdaFunctionComponent

attributes:
  lambda_config:
    function_name: metrics-aggregator
    invocation_type: RequestResponse
    payload_mode: full

  asset:
    key: daily_metrics
    description: Daily business metrics aggregated by Lambda
    group_name: analytics

    deps:
      - raw_events

    config_schema:
      metrics:
        type: array
        default: ["dau", "revenue", "signups"]
      lookback_days:
        type: number
        default: 7

    metadata:
      owner: analytics-team
      refresh_policy: daily

  schedule:
    cron_schedule: "0 1 * * *"
    execution_timezone: UTC
